# 重要知识点随机本 - PRD需求文档

## 1. 项目概述

**项目名称**: 重要知识点随机本
**项目类型**: Web应用 (后续支持微信小程序)
**核心功能**: 记录学习知识点，支持文字、图片、语音输入，具备时间戳存储和检索功能
**目标用户**: 学生、职场人士，用于记录和复习重要知识点

## 2. 技术架构

### 2.1 技术栈
- **前端**: React 18 + Vite
- **存储**: IndexedDB (浏览器本地数据库)
- **部署**: 静态网站托管 (Vercel/Netlify/GitHub Pages)

### 2.2 目录结构
```
├── client/          # 前端React项目
│   ├── src/
│   │   ├── api/          # IndexedDB存储实现
│   │   ├── App.jsx
│   │   └── styles/
│   └── index.html
└── README.md
```

## 3. 功能需求

### 3.1 记录功能

#### 3.1.1 文字记录
- 输入框输入文字内容
- 支持多行文本
- 最大字符数：5000

#### 3.1.2 图片记录
- 点击上传图片按钮
- 支持PNG、JPG、GIF格式
- 图片最大5MB
- 图片以Base64格式存储

#### 3.1.3 语音转文字
- 点击麦克风图标开始录音
- 使用Web Speech API (SpeechRecognition)
- 支持中文识别
- 录音结束后自动转换为文字并填入输入框
- 显示录音状态指示

### 3.2 存储功能

#### 3.2.1 数据结构
```json
{
  "id": "记录ID",
  "type": "text | image",
  "content": "文字内容或图片Base64",
  "createdAt": "时间戳",
  "updatedAt": "更新时间戳"
}
```

#### 3.2.2 保存逻辑
- 点击保存按钮保存记录
- 保存成功后显示提示
- 自动刷新记录列表

### 3.3 检索功能

#### 3.3.1 时间筛选
- 日期选择器组件
- 选择特定日期筛选当天记录
- 显示"全部"选项查看所有记录

#### 3.3.2 关键词搜索
- 搜索输入框
- 实时搜索（输入后200ms防抖）
- 匹配文字内容中的关键词

### 3.4 记录列表

#### 3.4.1 展示方式
- 卡片形式展示每条记录
- 显示时间戳（格式：YYYY-MM-DD HH:mm）
- 文字记录显示内容预览
- 图片记录显示缩略图

#### 3.4.2 操作
- 点击卡片查看详情（图片可放大）
- 删除按钮确认删除

## 4. 界面设计

### 4.1 整体风格
- **主题**: 明亮的年轻时尚感
- **配色**: 白色主背景 + 亮色点缀
- **圆角**: 12-16px 圆角
- **阴影**: 柔和阴影效果
- **字体**: 无衬线字体（思源黑体/系统默认）

### 4.2 色彩方案

```
主色调:
  --primary: #FF6B35 (活力橙)
  --primary-light: #FF8F66
  --primary-dark: #E55A2B

辅助色:
  --accent: #4ECDC4 (清新青)
  --accent-light: #7EDDD6
  --accent-dark: #3DBDB4

中性色:
  --bg-primary: #FFFFFF (纯白背景)
  --bg-secondary: #F8F9FA (浅灰背景)
  --bg-card: #FFFFFF (卡片白)
  --text-primary: #2D3436 (深灰文字)
  --text-secondary: #636E72 (中灰文字)
  --text-muted: #B2BEC3 (浅灰文字)
  --border: #E9ECEF (边框灰)

功能色:
  --success: #00B894 (成功绿)
  --warning: #FDCB6E (警告黄)
  --error: #E74C3C (错误红)
```

### 4.3 布局结构

#### 桌面端 (≥1024px) - 左右分栏
```
┌─────────────────────────────────────────────────────────┐
│                    顶部导航栏 (64px)                      │
│  ┌─────────────────────────────────────────────────┐    │
│  │           知识随机本 ✨                          │    │
│  └─────────────────────────────────────────────────┘    │
├────────────────────┬────────────────────────────────────┤
│   输入区域 (360px) │         检索 + 记录列表              │
│                    │  ┌──────────────────────────────┐  │
│  ┌──────────────┐  │  │ 🔍 搜索 | 📅 日期筛选        │  │
│  │              │  │  ├──────────────────────────────┤  │
│  │   文本输入   │  │  │ ┌────────────────────────┐   │  │
│  │   区域       │  │  │ │ 2026-02-28 14:30     │   │  │
│  │  (200px高)  │  │  │ │ 内容预览...           │   │  │
│  │              │  │  │ └────────────────────────┘   │  │
│  └──────────────┘  │  │ ┌────────────────────────┐   │  │
│                    │  │ │ 2026-02-28 10:15     │   │  │
│  [📷] [🎤] [保存]  │  │ │ [图片缩略图]          │   │  │
│                    │  │ └────────────────────────┘   │  │
│                    │  └──────────────────────────────┘  │
└────────────────────┴────────────────────────────────────┘
```

#### 移动端 (<768px) - 上下堆叠
```
┌─────────────────┐
│   知识随机本 ✨  │
├─────────────────┤
│ ┌─────────────┐ │
│ │  文本输入   │ │
│ │   区域      │ │
│ └─────────────┘ │
│ [📷] [🎤] [保存]│
├─────────────────┤
│ 🔍 搜索 | 📅 日期│
├─────────────────┤
│ ┌─────────────┐ │
│ │ 记录卡片    │ │
│ └─────────────┘ │
│ ┌─────────────┐ │
│ │ 记录卡片    │ │
│ └─────────────┘ │
└─────────────────┘
```

### 4.4 组件详细设计

#### 顶部导航栏
- **高度**: 64px
- **背景**: 线性渐变 `linear-gradient(135deg, #FF6B35 0%, #FF8F66 100%)`
- **标题**:
  - 字体: 24px, font-weight: 700
  - 颜色: #FFFFFF
  - 带闪光✨图标装饰

#### 输入区域卡片
- **宽度** (桌面): 360px，固定左侧
- **背景**: #FFFFFF
- **圆角**: 16px
- **阴影**: `0 4px 20px rgba(0, 0, 0, 0.08)`
- **内边距**: 24px

#### 文本输入框
- **高度**: 200px (可拖拽调整)
- **背景**: #F8F9FA
- **边框**: 2px solid #E9ECEF (聚焦时变为 #FF6B35)
- **圆角**: 12px
- **占位符**: "记录今天的学习收获..."
- **字体**: 16px, line-height: 1.6

#### 功能按钮组
- **布局**: 横向排列，间距 12px
- **图片上传按钮**:
  - 图标: 📷 (SVG图标)
  - 背景: #F8F9FA
  - 圆角: 12px
  - 尺寸: 48px × 48px
  - 悬停: 背景变为 #E9ECEF
- **语音输入按钮**:
  - 图标: 🎤 / 麦克风SVG
  - 背景: #F8F9FA (录音中: #FF6B35)
  - 圆角: 12px
  - 尺寸: 48px × 48px
  - 录音中动画: 脉冲缩放效果
- **保存按钮**:
  - 文字: "保存笔记"
  - 背景: 线性渐变 `linear-gradient(135deg, #FF6B35 0%, #FF8F66 100%)`
  - 文字颜色: #FFFFFF
  - 圆角: 12px
  - 尺寸: 高度 48px, 宽度自适应 (min 120px)
  - 悬停: 亮度提升 10%，轻微上移

#### 检索区域
- **布局**: 横向排列，间距 16px
- **搜索框**:
  - 宽度: 240px
  - 左侧搜索图标 🔍
  - 背景: #F8F9FA
  - 圆角: 12px
  - 高度: 44px
- **日期选择器**:
  - 宽度: 180px
  - 日历图标 📅
  - 背景: #F8F9FA
  - 圆角: 12px
  - 高度: 44px

#### 记录卡片
- **背景**: #FFFFFF
- **圆角**: 16px
- **阴影**: `0 2px 12px rgba(0, 0, 0, 0.06)`
- **内边距**: 20px
- **间距**: 卡片间距 16px
- **悬停效果**: 阴影加深，略微上移 (transform: translateY(-2px))
- **时间标签**:
  - 位置: 卡片顶部
  - 格式: "2026-02-28 14:30"
  - 颜色: #B2BEC3
  - 字号: 13px
- **内容区域**:
  - 文字: 最多显示3行，溢出省略
  - 图片: 缩略图最大 120px × 120px，圆角 8px
- **删除按钮**:
  - 位置: 右上角，初始隐藏
  - 图标: 🗑️ 或 SVG垃圾桶
  - 颜色: #E74C3C
  - 悬停显示

#### 空状态
- **图标**: 📝 (大号，64px)
- **文字**: "还没有记录，开始你的第一条知识吧"
- **颜色**: #B2BEC3
- **字号**: 16px

#### 加载状态
- **骨架屏**: 与卡片结构相同的灰色占位
- **动画**: 闪烁渐变效果

### 4.5 响应式断点

| 断点 | 宽度 | 布局变化 |
|------|------|----------|
| mobile | < 768px | 单栏堆叠，输入区置顶 |
| tablet | 768px - 1023px | 单栏，输入区宽度100% |
| desktop | ≥ 1024px | 左右分栏布局 |

### 4.6 动效设计

- **按钮悬停**: 0.2s ease-out 过渡
- **卡片悬停**: 0.3s ease 过渡
- **保存成功**: 绿色对勾动画 + 淡入淡出提示
- **录音中**: 麦克风脉冲动画 (1.5s 无限循环)
- **列表加载**: 依次淡入 (stagger 50ms)

## 5. 本地存储设计

### 5.1 存储方案
- **数据库**: IndexedDB (浏览器本地)
- **数据库名称**: knowledge-notes-db
- **对象存储**: notes

### 5.2 数据操作
```javascript
// 获取所有记录 (支持关键词和日期筛选)
fetchNotes(keyword, date) => Promise<Note[]>

// 创建记录
createNote(type, content) => Promise<Note>

// 删除记录
deleteNote(id) => Promise<void>
```

## 6. 非功能性需求

### 6.1 性能
- 页面加载时间 < 2s
- 搜索响应时间 < 300ms

### 6.2 兼容性
- Chrome 90+
- Firefox 88+
- Safari 14+
- 移动端响应式适配

### 6.3 用户体验
- 操作反馈及时
- 加载状态提示
- 错误提示友好

## 7. 后续扩展

### 7.1 微信小程序
- 复用后端API
- 适配小程序UI规范
- 考虑数据同步

### 7.2 后续功能
- 记录分类/标签
- 导出功能
- 数据备份/恢复
